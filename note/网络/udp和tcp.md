## 传输层协议，tcp与udp的区别
tcp与udp的显著区别是tcp是面向连接的，udp是面向无连接的

何为建立连接？

所谓的建立连接，是为了在客户端和服务端维护连接，而建立一定的数据结构来维护双方交 互的状态，用这样的数据结构来保证所谓的面向连接的特性

* TCP 提供可靠交付。通过 TCP 连接传输的数据，无差错、不丢失、不重复、并且按序到达。我们都知道 IP 包是没有任何可靠性保证的，但是 TCP 可以做到那个连接维护的程序做的事情，而 UDP 继承了 IP 包的特性，不保证不丢失，不保证按顺序到达。
* TCP 是面向字节流的。发送的时候发的是一个流，没头没尾。IP 包可不是一个流，而是一个个的 IP 包。之所以变成了流，这也是 TCP 自己的状态维护做的事情。而 UDP 继承了 IP 的特性，基于数据报的，一个一个地发，一个一个地收。
* TCP 是可以有拥塞控制的。如果发现丢包或者网络情况不佳，会根据情况调整自己的行为，看看是不是发快了，要不要发慢点。UDP 就不会，应用让它发就会发。

TCP 其实是一个有状态服务，通俗地讲就是有脑子的，里面精确地记着发送了没有， 接收到没有，发送到哪个了，应该接收哪个了，错一点儿都不行。而UDP 则是无状态服务。 通俗地说是没脑子的，天真无邪的，发出去就发出去了。

## UDP包头
一个UDP包到达目标机器后，发现 MAC 地址匹配，于是就取下来，将剩下的包传给处理 IP 层的代码。把 IP 头取下来， 发现目标 IP 匹配， 在 IP 头 里面有个 8 位协议，这里会存放，数据里面到底是 TCP 还是 UDP。 接下来的逻辑就可以交给应用了，通过UDP包头的端口号，来识别到底交给哪一个应用程序来处理。UDP包头只包含源端口号、目标端口号、UDP长度、UDP校验和四个部分，都是16位，剩下的就是数据了，包头非常精简(比起TCP)
